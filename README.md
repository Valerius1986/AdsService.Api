# Описание
Веб-сервис для подбора рекламных площадок на основе заданной локации. Сервис предоставляет REST API для загрузки данных о рекламных площадках и поиска подходящих площадок для указанной локации.

## Требования
.NET 6.0 SDK или выше

## Установка и запуск
Клонируйте репозиторий:

```
git clone https://github.com/Valerius1986/AdsService.Api.git
cd <папка проекта>
```
Восстановите зависимости проекта:

```bash
dotnet restore`
```
Запустите приложение:

`dotnet run`



## Использование API
### 1. Загрузка данных о рекламных площадках
Для загрузки данных создайте текстовый файл в формате:

```
Название площадки1:/локация1,/локация2
Название площадки2:/локация3,/локация4
```
Пример файла (ads_data.txt):

```
Яндекс.Директ:/ru
Ревдинский рабочий:/ru/svrd/revda,/ru/svrd/pervik
Газета уральских москвичей:/ru/msk,/ru/permobl,/ru/chelobl
Крутая реклама:/ru/svrd
```

Загрузите файл с помощью curl:

`curl -X POST -F "file=@ads_data.txt" https://localhost:7000/api/ads/upload`


### 2. Поиск рекламных площадок для локации
Для поиска рекламных площадок выполните запрос:

`curl "https://localhost:7000/api/ads/search?location=/ru/svrd/revda"`

Ответ будет содержать список подходящих рекламных площадок в формате JSON:

`["Яндекс.Директ", "Ревдинский рабочий", "Крутая реклама"]`

## Примеры тестирования
После загрузки тестовых данных проверьте работу сервиса с разными локациями:

Для локации /ru:

`curl "https://localhost:7000/api/ads/search?location=/ru"`

Ожидаемый результат: ["Яндекс.Директ"]

Для локации /ru/svrd:

`curl "https://localhost:7000/api/ads/search?location=/ru/svrd"`
Ожидаемый результат: ["Яндекс.Директ", "Крутая реклама"]

Для локации /ru/svrd/revda:

`curl "https://localhost:7000/api/ads/search?location=/ru/svrd/revda"`
Ожидаемый результат: ["Яндекс.Директ", "Ревдинский рабочий", "Крутая реклама"]

## Структура проекта
`Program.cs` - точка входа и конфигурация приложения

`Controllers/AdsController.cs` - контроллер API

`Services/IAdsRepository.cs` - интерфейс репозитория

`Services/InMemoryAdsRepository.cs` - реализация репозитория в памяти

`Models/LocationAd.cs` - модель данных
